参考:
https://blog.csdn.net/lady_killer9/article/details/115554909
https://blog.csdn.net/iamlihongwei/article/details/79551259

# 字符串

```go
package main
 
import (
	"fmt"
	"strings"
	"unicode"
	"unsafe"
)
 
func main() {
	//------------------字符型-------------------
	a := 'a'
	fmt.Printf("a的类型%T,a的值:%v,a对应的字符:%c,a的大小:%d\n",a,a,a,unsafe.Sizeof(a))
	you := '你'
	fmt.Printf("you的类型%T,you的值:%v,you对应的字符:%c,you的大小:%d\n",you,you,you,unsafe.Sizeof(you))
	//-----------------字符串--------------------
	str1 := "hello"
	str2 := "你好"
	fmt.Println("str1 str2:",str1,str2)
	//-----------------内存----------------------
	world := "world"
	world1 := "世界"
	fmt.Printf("world:%v world1:%v world:%T,world1:%T\n", world,world1,world,world1)
	fmt.Println("&world[0] &world1 len(world) len(world1):",&world,&world1,len(world),len(world1))
	// &world[0] 不允许取地址
 
	//-----------------原始字符串----------------
	str3 := "我要换行\n换好啦:)\n"
	str4 := `我想换行\n换不了:(\n`
	fmt.Printf("str3:%vstr4:%v\n",str3,str4)
 
	//----------------子串----------------------
	fmt.Println("world[:3] world1[3:]:",world[:3],world1[3:])
 
	//---------------拼接-----------------------
	str5 := str1+world+
		str2+world1
	fmt.Println("str5:",str5)
 
	//--------------修改（重新赋值）-------------
	tmp := []byte(world)
	tmp[0] = 'W'
	world = string(tmp)
	fmt.Println("world &world",world,&world)
 
	//-------------遍历------------------------
	for i:=0;i<len(world1);i=i+3{
		fmt.Print(world1[i:i+3])
	}
	for _,s := range world1{
		fmt.Printf("%c",s)
	}
    fmt.Println()
	//--------------比较-----------------------
	alpha := "abc"
	alpha2 := "Abc"
	fmt.Println("alpha==alpha2 strings.EqualFold(alpha,alpha2):", alpha==alpha2,strings.EqualFold(alpha,alpha2))
	//-------------大小写转换-------------------
	fmt.Println("",strings.ToUpper(alpha),strings.ToLower(alpha2))
	//------------去除空格--------------------
	song := "  \n\t两只\t老虎\t爱跳舞\n   "
	fmt.Println("去空格 去空格和两只 去空格和两 去空格和跳舞：",strings.TrimSpace(song),strings.Trim(song," \n\t两只"),
		strings.TrimLeft(song," \n\t两"),strings.TrimRight(song," \n两跳舞"))
	//------------判断前后缀----------------
	fmt.Println("song[4:]有两只前缀吗? song有爱跳舞后缀吗？",strings.HasPrefix(song[4:],"两只"),strings.HasSuffix(song,"爱跳舞"))
	//-------------拆分与拼接--------------
	ip := "192.168.31.129"
	slice  := strings.Split(ip,".")
	newIp := strings.Join(slice,"?")
	fmt.Println("ip newIP:",ip,newIp)
	//--------------------------------子串--------------------------------
	//-------------包含-------------------
	fmt.Println("song包含老虎吗? ",strings.Contains(song,"老虎"))
	//------------统计-------------------
	fmt.Println("ip中有几个.？ ",strings.Count(ip,"."))
	//----------查找--------------------
	fmt.Println("ip中第一个1的下标 ip中最后一个1的下标:",strings.Index(ip,"1"),strings.LastIndex(ip,"1"))
	//----------替换-------------------
	fmt.Println("将ip中的.替换为*",strings.Replace(ip,".","*",-1))
	//----------------------------------判断-------------------------------
	ok := unicode.IsDigit(rune(ip[0]))
	fmt.Printf("%c是十进制数字? %t\n",ip[0],ok)
	ok = unicode.IsNumber(rune(ip[0]))
	fmt.Printf("%c是数字字符? %t\n",ip[0],ok)
	ok = unicode.IsLetter(rune(alpha[0]))
	fmt.Printf("%c是字母? %t\n",alpha[0],ok)
	ok = unicode.IsLower(rune(ip[0]))
	fmt.Printf("%c是小写字母? %t\n",ip[0],ok)
	ok = unicode.IsUpper(rune(alpha2[0]))
	fmt.Printf("%c是大写字母? %t\n",alpha2[0],ok)
	fmt.Printf("%c转换为小写字母是%c\n",alpha2[0],unicode.ToLower(rune(alpha2[0])))
	fmt.Printf("%c转换为大写字母是%c\n",ip[0],unicode.ToUpper(rune(ip[0])),)
}
```

![image-20240922190354963](%E5%AD%97%E7%AC%A6%E4%B8%B2.assets/image-20240922190354963.png)





## 字符串转数字

使用`strconv`包中的`Atoi`（字符串转整数）和`ParseFloat`（字符串转浮点数）函数：

```go
goCopy Codepackage main

import (
    "fmt"
    "strconv"
)

func main() {
    // 字符串转整数
    strInt := "123"
    numInt, err := strconv.Atoi(strInt)
    if err != nil {
        fmt.Println("转换错误:", err)
    } else {
        fmt.Println("字符串转整数:", numInt)
    }

    // 字符串转浮点数
    strFloat := "123.45"
    numFloat, err := strconv.ParseFloat(strFloat, 64)
    if err != nil {
        fmt.Println("转换错误:", err)
    } else {
        fmt.Println("字符串转浮点数:", numFloat)
    }
}
```

## 数字转字符串

同样使用`strconv`包中的`Itoa`（整数转字符串）和`FormatFloat`（浮点数转字符串）函数：

```go
goCopy Codepackage main

import (
    "fmt"
    "strconv"
)

func main() {
    // 整数转字符串
    numInt := 123
    strInt := strconv.Itoa(numInt)
    fmt.Println("整数转字符串:", strInt)

    // 浮点数转字符串
    numFloat := 123.45
    strFloat := strconv.FormatFloat(numFloat, 'f', 2, 64)
    fmt.Println("浮点数转字符串:", strFloat)
}
```

## 总结

- **字符串转整数**：使用 `strconv.Atoi`
- **字符串转浮点数**：使用 `strconv.ParseFloat`
- **整数转字符串**：使用 `strconv.Itoa`
- **浮点数转字符串**：使用 `strconv.FormatFloat`

通过这些函数，你可以轻松地在字符串和数字之间进行转换。
